{"remainingRequest":"/Users/dehble/Desktop/Biobanks demo/Databanks-demo-project/fronted/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dehble/Desktop/Biobanks demo/Databanks-demo-project/fronted/src/components/ComboBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dehble/Desktop/Biobanks demo/Databanks-demo-project/fronted/src/components/ComboBox.vue","mtime":1637840049522},{"path":"/Users/dehble/Desktop/Biobanks demo/Databanks-demo-project/fronted/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dehble/Desktop/Biobanks demo/Databanks-demo-project/fronted/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dehble/Desktop/Biobanks demo/Databanks-demo-project/fronted/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dehble/Desktop/Biobanks demo/Databanks-demo-project/fronted/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgeyAgCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvclRpdGxlOiAnJywKICAgICAgZXJyb3JEZXRhaWw6ICcnLAogICAgICBmdWxsUGFnZTogdHJ1ZSwKICAgICAgc2VhcmNoOiBudWxsLAogICAgICBsb2luY0NvZGVzOiBbXSwKICAgICAgbG9pbmNzOiBbCiAgICAgICAgewogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIHNlbGVjdGVkSXRlbXM6IFtdLAogICAgICBzZWxlY3RlZEl0ZW06IHt9LAogICAgICBsb2luY3NMb2FkZWQ6IGZhbHNlLAogICAgfQogIH0sICAKCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLmdldExvaW5jcygpCn0sCgpjb21wdXRlZDogewogICAgIGVycm9yTWVzc2FnZXMoKSB7CiAgICAgIHJldHVybiAnIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTRwdDtmb250LXdlaWdodDpib2xkOyI+ICcgKyB0aGlzLmVycm9yVGl0bGUgKyAnIDwvc3Bhbj48YnI+ICcgKyB0aGlzLmVycm9yRGV0YWlsOwogICAgfSwKfSwKCndhdGNoOiB7CiAgICBsb2luY3MgKHZhbCwgcHJldikgewogICAgICBpZiAodmFsLmxlbmd0aCA9PT0gcHJldi5sZW5ndGgpIHJldHVybgoKICAgICAgdGhpcy5sb2luY3MgPSB2YWwubWFwKHYgPT4gewogICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHYgPSB7CiAgICAgICAgICAgIGxvaW5jbnVtOiB2LAogICAgICAgICAgICAvLyBsb2luY2NvbXBvbmVudDogLAogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMubG9pbmNDb2Rlcy5wdXNoKHYpCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdgogICAgICB9KQogICAgfSwKICB9LAoKbWV0aG9kczogewogIGFzeW5jIGdldExvaW5jcyAoKSB7CiAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgcmVzID0gIGF3YWl0IGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9sb2luY3NgKQogICAgICAgICAgICB0aGlzLmxvaW5jQ29kZXMgPSByZXMuZGF0YQogICAgICAgICAgICB0aGlzLmxvaW5jc0xvYWRlZCA9IHRydWUgICAgICAgICAgICAKICAgICAgICB9IAogICAgICAgIGNhdGNoKGVycm9yKSB7CiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgdGhpcy5lcnJvclRpdGxlID0gJ1NvbWV0aGluZyB3ZW50IHdyb25nIScKCiAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICB0aGlzLmVycm9yRGV0YWlsID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lcnJvckRldGFpbCA9IGVycm9yOwogICAgICAgICAgICB9CiAgICAgICAgfQogIH0sCiAgZmlsdGVyICggcXVlcnlUZXh0LCBpdGVtVGV4dCkgewoKICAgICAgY29uc3QgaGFzVmFsdWUgPSB2YWwgPT4gdmFsICE9IG51bGwgPyB2YWwgOiAnJwoKICAgICAgY29uc3QgdGV4dCA9IGhhc1ZhbHVlKGl0ZW1UZXh0KQogICAgICBjb25zdCBxdWVyeSA9IGhhc1ZhbHVlKHF1ZXJ5VGV4dCkKCiAgICAgIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkKICAgICAgICAudG9Mb3dlckNhc2UoKQogICAgICAgIC5pbmRleE9mKHF1ZXJ5LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSkgPiAtMQogICAgfSwKfQp9Cg=="},{"version":3,"sources":["ComboBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ComboBox.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n          <v-alert :value=\"errorTitle!==''\" :v-if=\"errorTitle!==''\" type=\"error\" dismissible flat class=\"notification\" prominent><span v-html=\"errorMessages\"></span></v-alert>\n          <v-progress-linear v-show=\"isLoading\"\n                    indeterminate\n                    color=\"primary\"\n                    rounded\n                    height=\"5\"\n                    striped\n                >\n            </v-progress-linear>\n\n        <v-combobox\n                v-model=\"loincs\"\n                :filter=\"filter\"\n                :hide-no-data=\"!search\"\n                :items=\"loincCodes\"\n                :search-input.sync=\"search\"\n                hide-selected\n                label=\"Search for a LOINC code\"\n                solo\n            >\n            <template v-slot:no-data>\n                <v-list-item>\n                    <v-chip\n                    label\n                    small\n                    >\n                    {{ search }}\n                    </v-chip>\n                </v-list-item>\n            </template>\n\n             <template v-slot:selection=\"{ attrs, item, selected }\">\n            <v-chip\n                v-if=\"item === Object(item)\"\n                v-bind=\"attrs\"\n                :input-value=\"selected\"\n                label\n                small\n            >\n                <span class=\"pr-2\">\n                {{ item.loincnum }}\n                </span>\n            </v-chip>\n            </template>\n\n        </v-combobox>\n   </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {  \n  data () {\n    return {\n      isLoading: false,\n      errorTitle: '',\n      errorDetail: '',\n      fullPage: true,\n      search: null,\n      loincCodes: [],\n      loincs: [\n        {\n        },\n      ],\n      selectedItems: [],\n      selectedItem: {},\n      loincsLoaded: false,\n    }\n  },  \n\n  mounted () {\n    this.getLoincs()\n},\n\ncomputed: {\n     errorMessages() {\n      return ' <span style=\"font-size:14pt;font-weight:bold;\"> ' + this.errorTitle + ' </span><br> ' + this.errorDetail;\n    },\n},\n\nwatch: {\n    loincs (val, prev) {\n      if (val.length === prev.length) return\n\n      this.loincs = val.map(v => {\n        if (typeof v === 'string') {\n          v = {\n            loincnum: v,\n            // loinccomponent: ,\n          }\n\n          this.loincCodes.push(v)\n        }\n\n        return v\n      })\n    },\n  },\n\nmethods: {\n  async getLoincs () {\n     try {\n            const res =  await axios.get(`http://localhost:5000/api/loincs`)\n            this.loincCodes = res.data\n            this.loincsLoaded = true            \n        } \n        catch(error) {\n            this.isLoading = false\n            this.errorTitle = 'Something went wrong!'\n\n            if (error.response) {\n            this.errorDetail = error.response.data.error;\n            } else {\n            this.errorDetail = error;\n            }\n        }\n  },\n  filter ( queryText, itemText) {\n\n      const hasValue = val => val != null ? val : ''\n\n      const text = hasValue(itemText)\n      const query = hasValue(queryText)\n\n      return text.toString()\n        .toLowerCase()\n        .indexOf(query.toString().toLowerCase()) > -1\n    },\n}\n}\n</script>\n\n<style>\n \n</style>"]}]}